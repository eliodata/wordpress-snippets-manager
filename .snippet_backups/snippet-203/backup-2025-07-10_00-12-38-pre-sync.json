{
  "id": "203",
  "name": "styles css metabox.io champs labels generaux",
  "description": "Styles CSS pour Meta Box - Application forcée  Active: true",
  "code": "// Sécurité : empêcher l'accès direct\nif (!defined('ABSPATH')) {\n    exit;\n}\n\n// APPLICATION IMMÉDIATE DES STYLES META BOX\nadd_action('init', function() {\n    if (is_admin()) {\n        add_action('admin_head', 'force_metabox_styles_output', 1);\n        add_action('admin_footer', 'force_metabox_styles_output', 1);\n    }\n});\n\nfunction force_metabox_styles_output() {\n    static $output_done = false;\n    if ($output_done) return;\n    $output_done = true;\n    \n    echo \"\\n<!-- FORCE META BOX STYLES - SNIPPET 203 -->\\n\";\n    echo '<style type=\"text/css\" id=\"force-metabox-styles\">';\n    echo get_forced_metabox_css();\n    echo '</style>';\n    echo \"\\n<!-- END FORCE META BOX STYLES -->\\n\";\n}\n\nfunction get_forced_metabox_css() {\n    return '\n    /* STYLES META BOX FORCÉS */\n    .postbox .rwmb-meta-box { padding: 6px !important; margin: 0 !important; background: #fff !important; }\n    .rwmb-field { margin-bottom: 6px !important; margin-top: 0 !important; position: relative; }\n    .rwmb-label { font-weight: 500 !important; color: #1e1e1e !important; margin-bottom: 3px !important; margin-top: 0 !important; font-size: 11px !important; line-height: 1.3 !important; text-transform: uppercase !important; letter-spacing: 0.3px !important; }\n    .rwmb-label + .rwmb-input, .rwmb-column .rwmb-label ~ .rwmb-input { margin-top: 0 !important; }\n    .rwmb-input input[type=\"text\"], .rwmb-input input[type=\"email\"], .rwmb-input input[type=\"url\"], .rwmb-input input[type=\"password\"], .rwmb-input input[type=\"number\"], .rwmb-input input[type=\"tel\"], .rwmb-input input[type=\"date\"], .rwmb-input input[type=\"time\"], .rwmb-input textarea, .rwmb-input select { padding: 6px 10px !important; font-size: 13px !important; line-height: 1.4 !important; height: 32px !important; border: 1px solid #c3c4c7 !important; border-radius: 4px !important; margin: 0 !important; background: #fff !important; transition: all 0.15s ease-in-out !important; box-shadow: inset 0 1px 2px rgba(0,0,0,0.04) !important; }\n    .rwmb-input textarea { min-height: 70px !important; height: auto !important; resize: vertical !important; padding: 8px 10px !important; line-height: 1.5 !important; }\n    .rwmb-input select { height: 32px !important; padding: 4px 10px !important; }\n    .rwmb-input input:focus, .rwmb-input textarea:focus, .rwmb-input select:focus { border-color: #2271b1 !important; box-shadow: 0 0 0 1px #2271b1 !important; outline: none !important; }\n    .rwmb-column { padding-left: 4px !important; padding-right: 4px !important; }\n    .rwmb-column:first-child { padding-left: 0 !important; }\n    .rwmb-column:last-child { padding-right: 0 !important; }\n    .rwmb-column .rwmb-field { margin-bottom: 5px !important; }\n    .rwmb-input input[type=\"checkbox\"], .rwmb-input input[type=\"radio\"] { width: 16px !important; height: 16px !important; margin-right: 6px !important; margin-top: 0 !important; margin-bottom: 0 !important; accent-color: #2271b1 !important; }\n    .rwmb-choice { margin-bottom: 6px !important; line-height: 1.4 !important; display: flex !important; align-items: center !important; }\n    .rwmb-choice label { font-weight: 400 !important; margin-bottom: 0 !important; font-size: 13px !important; color: #1e1e1e !important; }\n    ';\n}\n\n/**\n * Classe principale pour gérer les styles des metabox\n */\nclass MetaBoxStyleManager {\n    \n    public function __construct() {\n        // Hook principal pour injecter les styles\n        add_action('admin_head', array($this, 'output_metabox_styles'), 999);\n        \n        // Hook de secours pour Meta Box\n        add_action('rwmb_enqueue_scripts', array($this, 'force_output_styles'));\n        \n        // Hook de secours pour les pages d'édition\n        add_action('admin_enqueue_scripts', array($this, 'force_output_styles'));\n    }\n    \n    /**\n     * Force la sortie des styles (hook de secours)\n     */\n    public function force_output_styles() {\n        add_action('admin_head', array($this, 'output_metabox_styles'), 999);\n        add_action('admin_footer', array($this, 'output_metabox_styles_footer'), 999);\n    }\n    \n    /**\n     * Sortie directe des styles CSS dans le head\n     */\n    public function output_metabox_styles() {\n        static $styles_output = false;\n        if ($styles_output) return;\n        $styles_output = true;\n        \n        echo \"\\n<!-- Meta Box Custom Styles - Snippet 203 Active -->\\n\";\n        echo '<style type=\"text/css\" id=\"metabox-custom-styles\">' . $this->get_metabox_css() . '</style>';\n        echo \"\\n<!-- End Meta Box Custom Styles -->\\n\";\n    }\n    \n    /**\n     * Sortie de secours dans le footer\n     */\n    public function output_metabox_styles_footer() {\n        static $footer_output = false;\n        if ($footer_output) return;\n        $footer_output = true;\n        \n        echo \"\\n<!-- Meta Box Custom Styles - Footer Fallback -->\\n\";\n        echo '<style type=\"text/css\">' . $this->get_metabox_css() . '</style>';\n        echo \"\\n<!-- End Meta Box Custom Styles Footer -->\\n\";\n    }\n    \n    /**\n     * Retourne le CSS personnalisé pour les metabox\n     */\n    public function get_metabox_css() {\n        return '\n         /* ==========================================================================\n            STYLES MODERNES ET DENSES POUR META BOX\n            ========================================================================== */\n         \n         /* Conteneur principal - design moderne */\n         .postbox .rwmb-meta-box {\n             padding: 6px !important;\n             margin: 0 !important;\n             background: #fff !important;\n         }\n         \n         /* Champs - espacement minimal et moderne */\n         .rwmb-field {\n             margin-bottom: 6px !important;\n             margin-top: 0 !important;\n             position: relative;\n         }\n         \n         /* Labels - design moderne et lisible */\n         .rwmb-label {\n             font-weight: 500 !important;\n             color: #1e1e1e !important;\n             margin-bottom: 3px !important;\n             margin-top: 0 !important;\n             font-size: 11px !important;\n             line-height: 1.3 !important;\n             text-transform: uppercase !important;\n             letter-spacing: 0.3px !important;\n         }\n         \n         /* Suppression espacement label/input */\n         .rwmb-label + .rwmb-input,\n         .rwmb-column .rwmb-label ~ .rwmb-input {\n             margin-top: 0 !important;\n         }\n         \n         /* Inputs modernes et compacts */\n         .rwmb-input input[type=\"text\"],\n         .rwmb-input input[type=\"email\"],\n         .rwmb-input input[type=\"url\"],\n         .rwmb-input input[type=\"password\"],\n         .rwmb-input input[type=\"number\"],\n         .rwmb-input input[type=\"tel\"],\n         .rwmb-input input[type=\"date\"],\n         .rwmb-input input[type=\"time\"],\n         .rwmb-input textarea,\n         .rwmb-input select {\n             padding: 6px 10px !important;\n             font-size: 13px !important;\n             line-height: 1.4 !important;\n             height: 32px !important;\n             border: 1px solid #c3c4c7 !important;\n             border-radius: 4px !important;\n             margin: 0 !important;\n             background: #fff !important;\n             transition: all 0.15s ease-in-out !important;\n             box-shadow: inset 0 1px 2px rgba(0,0,0,0.04) !important;\n         }\n         \n         /* Textarea moderne */\n         .rwmb-input textarea {\n             min-height: 70px !important;\n             height: auto !important;\n             resize: vertical !important;\n             padding: 8px 10px !important;\n             line-height: 1.5 !important;\n         }\n         \n         /* Select moderne */\n         .rwmb-input select {\n             height: 32px !important;\n             padding: 4px 10px !important;\n             background-image: url(\"data:image/svg+xml;charset=US-ASCII,<svg xmlns=\\'http://www.w3.org/2000/svg\\' viewBox=\\'0 0 4 5\\'><path fill=\\'%23666\\' d=\\'M2 0L0 2h4zm0 5L0 3h4z\\'/></svg>\") !important;\n             background-repeat: no-repeat !important;\n             background-position: right 8px center !important;\n             background-size: 12px !important;\n         }\n         \n         /* États focus modernes */\n         .rwmb-input input:focus,\n         .rwmb-input textarea:focus,\n         .rwmb-input select:focus {\n             border-color: #2271b1 !important;\n             box-shadow: 0 0 0 1px #2271b1 !important;\n             outline: none !important;\n         }\n         \n         /* Colonnes - espacement optimisé */\n         .rwmb-column {\n             padding-left: 4px !important;\n             padding-right: 4px !important;\n         }\n         \n         .rwmb-column:first-child {\n             padding-left: 0 !important;\n         }\n         \n         .rwmb-column:last-child {\n             padding-right: 0 !important;\n         }\n         \n         .rwmb-column .rwmb-field {\n             margin-bottom: 5px !important;\n         }\n         \n         /* Checkboxes et radios modernes */\n         .rwmb-input input[type=\"checkbox\"],\n         .rwmb-input input[type=\"radio\"] {\n             width: 16px !important;\n             height: 16px !important;\n             margin-right: 6px !important;\n             margin-top: 0 !important;\n             margin-bottom: 0 !important;\n             accent-color: #2271b1 !important;\n         }\n         \n         .rwmb-choice {\n             margin-bottom: 6px !important;\n             line-height: 1.4 !important;\n             display: flex !important;\n             align-items: center !important;\n         }\n         \n         .rwmb-choice label {\n             font-weight: 400 !important;\n             margin-bottom: 0 !important;\n             font-size: 13px !important;\n             color: #1e1e1e !important;\n         }\n         \n         /* Groupes répétables modernes */\n         .rwmb-group-clone {\n             padding: 8px !important;\n             margin-bottom: 8px !important;\n             border: 1px solid #dcdcde !important;\n             border-radius: 6px !important;\n             background: #f9f9f9 !important;\n             position: relative !important;\n         }\n         \n         .rwmb-clone {\n             background: #f6f7f7 !important;\n             border: 1px solid #dcdcde !important;\n             border-radius: 4px !important;\n             padding: 6px !important;\n             margin-bottom: 6px !important;\n         }\n         \n         /* Boutons modernes */\n         .rwmb-button,\n         .rwmb-input .button {\n             padding: 6px 12px !important;\n             font-size: 12px !important;\n             height: auto !important;\n             line-height: 1.4 !important;\n             margin-top: 4px !important;\n             border-radius: 4px !important;\n             font-weight: 500 !important;\n             transition: all 0.15s ease !important;\n         }\n         \n         .rwmb-button:hover,\n         .rwmb-input .button:hover {\n             transform: translateY(-1px) !important;\n             box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;\n         }\n         \n         /* Messages d\\'erreur modernes */\n         .rwmb-error {\n             font-size: 12px !important;\n             margin-top: 4px !important;\n             line-height: 1.4 !important;\n             color: #d63638 !important;\n             background: #fcf0f1 !important;\n             padding: 4px 8px !important;\n             border-radius: 3px !important;\n             border-left: 3px solid #d63638 !important;\n         }\n         \n         /* Onglets modernes */\n         .rwmb-tab-panel {\n             padding: 12px !important;\n             background: #fff !important;\n             border-radius: 0 4px 4px 4px !important;\n         }\n         \n         .rwmb-tab-nav {\n             border-bottom: 1px solid #dcdcde !important;\n             margin-bottom: 0 !important;\n         }\n         \n         .rwmb-tab-nav a {\n             padding: 8px 16px !important;\n             font-size: 13px !important;\n             font-weight: 500 !important;\n             border-radius: 4px 4px 0 0 !important;\n             transition: all 0.15s ease !important;\n         }\n         \n         .rwmb-tab-nav .rwmb-tab-active a {\n             background: #fff !important;\n             border-bottom: 1px solid #fff !important;\n             color: #2271b1 !important;\n         }\n         \n         /* Select2 moderne (si utilisé) */\n         .select2-container .select2-selection--single {\n             height: 32px !important;\n             border: 1px solid #c3c4c7 !important;\n             border-radius: 4px !important;\n         }\n         \n         .select2-container--default .select2-selection--single .select2-selection__rendered {\n             line-height: 30px !important;\n             padding-left: 10px !important;\n             font-size: 13px !important;\n         }\n         \n         .select2-container--default .select2-selection--single .select2-selection__arrow {\n             height: 30px !important;\n             right: 8px !important;\n         }\n         \n         /* Séparateurs modernes */\n         .rwmb-divider {\n             margin: 16px 0 !important;\n             padding-top: 16px !important;\n             border-top: 1px solid #dcdcde !important;\n         }\n         \n         /* Descriptions et aide */\n         .rwmb-field .description {\n             font-size: 11px !important;\n             color: #646970 !important;\n             margin-top: 4px !important;\n             line-height: 1.4 !important;\n             font-style: italic !important;\n         }\n         \n         /* Responsive moderne */\n         @media (max-width: 782px) {\n             .rwmb-column .rwmb-field {\n                 margin-bottom: 8px !important;\n             }\n             \n             .rwmb-input input,\n             .rwmb-input textarea,\n             .rwmb-input select {\n                 font-size: 16px !important;\n             }\n         }\n         \n         /* Animations subtiles */\n         .rwmb-field {\n             transition: all 0.2s ease !important;\n         }\n         \n         .rwmb-field:focus-within {\n             background: rgba(34, 113, 177, 0.02) !important;\n             border-radius: 4px !important;\n             padding: 2px !important;\n             margin: -2px !important;\n         }\n         ';\n    }\n}\n\n// Initialiser la classe\nif (is_admin()) {\n    new MetaBoxStyleManager();\n}\n\n// Hook direct de secours pour garantir l'application des styles\nadd_action('admin_head', function() {\n    if (!is_admin()) return;\n    \n    static $direct_output = false;\n    if ($direct_output) return;\n    $direct_output = true;\n    \n    echo \"\\n<!-- Meta Box Direct Styles - Snippet 203 Backup -->\\n\";\n    echo '<style type=\"text/css\" id=\"metabox-direct-styles\">';\n    \n    // CSS direct pour Meta Box\n    echo '\n    /* Meta Box Styles Direct Application */\n    .postbox .rwmb-meta-box { padding: 6px !important; margin: 0 !important; background: #fff !important; }\n    .rwmb-field { margin-bottom: 6px !important; margin-top: 0 !important; }\n    .rwmb-label { font-weight: 500 !important; color: #1e1e1e !important; margin-bottom: 3px !important; font-size: 11px !important; text-transform: uppercase !important; letter-spacing: 0.3px !important; }\n    .rwmb-input input[type=\"text\"], .rwmb-input input[type=\"email\"], .rwmb-input input[type=\"url\"], .rwmb-input textarea, .rwmb-input select { padding: 6px 10px !important; font-size: 13px !important; height: 32px !important; border: 1px solid #c3c4c7 !important; border-radius: 4px !important; }\n    .rwmb-input input:focus, .rwmb-input textarea:focus, .rwmb-input select:focus { border-color: #2271b1 !important; box-shadow: 0 0 0 1px #2271b1 !important; }\n    .rwmb-column { padding-left: 4px !important; padding-right: 4px !important; }\n    .rwmb-column:first-child { padding-left: 0 !important; }\n    .rwmb-column:last-child { padding-right: 0 !important; }\n    ';\n    \n    echo '</style>';\n    echo \"\\n<!-- End Meta Box Direct Styles -->\\n\";\n}, 1000);\n\n/**\n * Fonction utilitaire pour ajouter des styles personnalisés\n * \n * @param string $custom_css CSS personnalisé à ajouter\n */\nfunction add_custom_metabox_styles($custom_css) {\n    add_action('admin_head', function() use ($custom_css) {\n        echo '<style type=\"text/css\">' . $custom_css . '</style>';\n    });\n}\n\n/**\n * Exemple d'utilisation :\n * \n * add_custom_metabox_styles('\n *     .my-custom-metabox .rwmb-field {\n *         background: #f0f0f0;\n *         padding: 10px;\n *     }\n * ');\n */",
  "tags": "",
  "scope": "admin",
  "priority": "10",
  "active": true,
  "modified": "2025-07-10 00:12:24",
  "revision": "11",
  "cloud_id": null
}